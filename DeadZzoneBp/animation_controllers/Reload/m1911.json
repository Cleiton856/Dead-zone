{
  "format_version": "1.10.0",
  "animation_controllers": {
    "controller.animation.m1911.reload": {
      "initial_state": "default",
      "states": {
        "default": {
          "transitions": [
            {
              "reload_start": "q.get_equipped_item_name('main_hand') == 'm1911_emp' && query.is_using_item"
            }
          ]
        },
        "reload_start": {
          "on_entry": [
            "v.r = q.life_time;",
            "/event entity @s [hasitem={item=mcpe:ammo_45acp}] klep:reload"
          ],
          "transitions": [
            {
              "reloaded": "(q.life_time - v.r) >= 0.2 && q.get_equipped_item_name == 'm1911_emp' && q.mark_variant == 1"
            },
            {
              "noammo": "(q.life_time - v.r) >= 0.8 && q.get_equipped_item_name == 'm1911_emp' && q.mark_variant == 0"
            }
          ]
        },
        "noammo": {
          "on_entry": [
            "v.r = q.life_time;",
            "/title @s actionbar ยง4No .45Acp ammo in Inventory!",
          "/playsound gun.dry @a ~~~ 0.3 1"
          ],
          "transitions": [
            {
              "default": "1.0"
            }
          ]
        },
        "reloaded": {
          "on_entry": [],
          "animations": [
            "m1911reload"
          ],
          "transitions": [
            {
              "default": "(q.all_animations_finished) && !q.is_using_item"
            },
            {
              "reload_error": "q.get_equipped_item_name != 'm1911_emp'"
            }
          ]
        },
        "reload_error": {
          "on_entry": [
            "/playsound gun.dry @a ~~~ 0.3 1",
            "@s klep:noreload"
          ],
          "transitions": [
            {
              "default": "1.0"
            }
          ]
        }
      }
    }
  }
}